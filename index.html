<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" href="icon-192.png" sizes="192x192" />
<link rel="icon" href="icon-512.png" sizes="512x512" />
    <link rel="manifest" href="manifest.json">
    <title>M3E Player</title>
    <link rel="stylesheet" href="styles.css">
    <script src="jsmediatags.min.js"></script>

    
</head>
<body>
    <div class="app-container">
        <input type="file" id="legacy-input" multiple accept="audio/*">

        <div class="toast" id="toast">
            <span>Library access needed</span>
            <button class="toast-btn" onclick="restoreFolder()">Allow</button>
        </div>

        <div class="layout-column">
            
            <div class="art-wrapper" onclick="toggleLyrics(true)">
                <div class="cover-art">
                    <span class="material-symbols-rounded placeholder-icon">album</span>
                    <img id="cover-img" src="" alt="">
                </div>
            </div>
            
            <div class="meta-row">
                <div class="text-area">
                    <h1 class="song-title" id="track-title">Select Folder</h1>
                    <div class="artist-name" id="track-artist">To start playing</div>
                </div>
                <div class="action-area">
                    <button class="star-pill" id="btn-fav" onclick="toggleFav()">
                        <span class="material-symbols-rounded">star</span>
                    </button>
                    <span class="time-txt" id="time-txt">0:00</span>
                </div>
            </div>
            
            <div class="progress-container" id="p-container">
                                <div class="wave-mask" id="wave-mask">
                    <svg class="wave-svg" viewBox="0 0 800 24" preserveAspectRatio="none">
    <path d="M0,12 Q20,2 40,12 T80,12 T120,12 T160,12 T200,12 T240,12 T280,12 T320,12 T360,12 T400,12 T440,12 T480,12 T520,12 T560,12 T600,12 T640,12 T680,12 T720,12 T760,12 T800,12" />
</svg>
                </div>
                <div class="straight-line" id="straight-line"></div>
                <div class="thumb" id="thumb"></div>
                <input type="range" class="seek-input" id="seeker" min="0" max="100" value="0">
            </div>
            
            <div class="main-controls">
                <button class="ctrl-btn btn-side" onclick="skip(-1)">
                    <span class="material-symbols-rounded">skip_previous</span>
                </button>
                <button class="ctrl-btn btn-play" id="btn-play" onclick="togglePlay()">
                    <span class="material-symbols-rounded" id="play-icon">play_arrow</span>
                </button>
                <button class="ctrl-btn btn-side" onclick="skip(1)">
                    <span class="material-symbols-rounded">skip_next</span>
                </button>
            </div>
            
            <div class="seg-row">
                <button class="seg-btn" id="btn-shuffle" onclick="toggleShuffle()">
                    <span class="material-symbols-rounded">shuffle</span>
                </button>
                <button class="seg-btn" onclick="togglePlaylist(true)">
                    <span class="material-symbols-rounded">queue_music</span>
                </button>
                <button class="seg-btn" id="btn-repeat" onclick="toggleRepeat()">
                    <span class="material-symbols-rounded">repeat</span>
                </button>
            </div>
        </div>

        <div class="sheet-backdrop" id="sheet-bg" onclick="closeAllSheets()"></div>

        <div class="bottom-sheet" id="playlist-sheet">
            <div class="sheet-handle-area" id="drag-playlist">
                <div class="sheet-handle"></div>
            </div>
            <div class="sheet-header">
                <button class="profile-btn" onclick="pickFolder()">
                    <span class="material-symbols-rounded">folder_open</span> Select
                </button>
                <button class="fav-filter" id="btn-filter" onclick="toggleFilter()">
                    <span class="material-symbols-rounded">star</span> Favorites
                </button>
            </div>
            <div class="playlist-list" id="list-box"></div>
        </div>

        <div class="bottom-sheet" id="lyrics-sheet">
            <div class="sheet-handle-area" id="drag-lyrics">
                <div class="sheet-handle"></div>
            </div>
            <div class="sheet-header">
                <span class="sheet-title">Lyrics</span>
                <span class="material-symbols-rounded" style="opacity:0.5; cursor:pointer" onclick="toggleLyrics(false)">close</span>
            </div>
            <div class="lyrics-content" id="lyrics-box">
                <div class="lyrics-placeholder">No lyrics available</div>
            </div>
        </div>

    </div>
    
<script src="scripts.js"></script>

</body>
</html>
